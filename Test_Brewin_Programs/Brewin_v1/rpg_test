(class main
    (field player null)
    (field enemy null)
    (method main ()
        (begin
          (print "starting game")
          (set player (new Player))
          
          (set enemy (new Skeleton))
          (call player init "sirfist" 10 3)
          (call enemy init "Skele" 5 2)
          #(call player display)
          #(call player damage 3)
          (call player display)
          (call enemy display)
          (print "Attacking turn")
          (call me attack_turn)
          (call player display)
          (call enemy display)
          #(print (call (call (new other) func1 3) func2 5))
          (print "ending game")
        )
    ) 
    (method attack_turn ()
      (begin
        (call player attack enemy)
        (call enemy attack player)
      )
    )
) 
(class other
    (method func1 (x) 
        (return (new other))
    )
    (method func2 (x)
        (begin
            (print x)
            (return 0)
        )
    )
)
(class Player
  (field name "")
  (field health 0)
  (field attack 0)
  (method init (name_ health_ attack_)
    (begin
      (set name name_)
      (set health health_)
      (set attack attack_)
    )
  )
  (method display ()
    (print name " has " health " health.")
  )
  (method attack (enemy)
    (begin
      (print "Attacking the enemy")
      (call enemy damage attack)
    )
  )
  (method damage (amt)
    (begin
      (set health (- health amt))
      (if (< health 0)
        (set health 0)
      )
    )
  )
)
(class Skeleton
  (field name "")
  (field health 0)
  (field attack 0)
  (method init (name_ health_ attack_)
    (begin
      (set name name_)
      (set health health_)
      (set attack attack_)
    )
  )
  (method display ()
    (print name " has " health " health.")
  )
  (method attack (player)
    (begin
      (print "Attacking the player")
      (call player damage attack)
    )
  )
  (method damage (amt)
    (begin
      (set health (- health amt))
      (if (< health 0)
        (set health 0)
      )
    )
  )
)